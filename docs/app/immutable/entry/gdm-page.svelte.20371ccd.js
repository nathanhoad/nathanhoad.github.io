import{S as so,i as lo,s as uo,k as l,l as u,m as d,h as t,p as F,L as ro,b as r,H as n,n as qi,z as xa,A as Fa,B as $a,g as Pa,d as Ta,C as Sa,r as h,a as v,u as g,c as y,J as _t}from"../chunks/index.1a1b1f9a.js";import{A as po}from"../chunks/article-page.e7786417.js";var oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bi={},co={get exports(){return Bi},set exports(O){Bi=O}};(function(O){var I=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var f=function(_){var k=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,x=0,M={},m={manual:_.Prism&&_.Prism.manual,disableWorkerMessageHandler:_.Prism&&_.Prism.disableWorkerMessageHandler,util:{encode:function o(i){return i instanceof P?new P(i.type,o(i.content),i.alias):Array.isArray(i)?i.map(o):i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(o){return Object.prototype.toString.call(o).slice(8,-1)},objId:function(o){return o.__id||Object.defineProperty(o,"__id",{value:++x}),o.__id},clone:function o(i,s){s=s||{};var p,c;switch(m.util.type(i)){case"Object":if(c=m.util.objId(i),s[c])return s[c];p={},s[c]=p;for(var b in i)i.hasOwnProperty(b)&&(p[b]=o(i[b],s));return p;case"Array":return c=m.util.objId(i),s[c]?s[c]:(p=[],s[c]=p,i.forEach(function(E,w){p[w]=o(E,s)}),p);default:return i}},getLanguage:function(o){for(;o;){var i=k.exec(o.className);if(i)return i[1].toLowerCase();o=o.parentElement}return"none"},setLanguage:function(o,i){o.className=o.className.replace(RegExp(k,"gi"),""),o.classList.add("language-"+i)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(p){var o=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(p.stack)||[])[1];if(o){var i=document.getElementsByTagName("script");for(var s in i)if(i[s].src==o)return i[s]}return null}},isActive:function(o,i,s){for(var p="no-"+i;o;){var c=o.classList;if(c.contains(i))return!0;if(c.contains(p))return!1;o=o.parentElement}return!!s}},languages:{plain:M,plaintext:M,text:M,txt:M,extend:function(o,i){var s=m.util.clone(m.languages[o]);for(var p in i)s[p]=i[p];return s},insertBefore:function(o,i,s,p){p=p||m.languages;var c=p[o],b={};for(var E in c)if(c.hasOwnProperty(E)){if(E==i)for(var w in s)s.hasOwnProperty(w)&&(b[w]=s[w]);s.hasOwnProperty(E)||(b[E]=c[E])}var $=p[o];return p[o]=b,m.languages.DFS(m.languages,function(S,q){q===$&&S!=o&&(this[S]=b)}),b},DFS:function o(i,s,p,c){c=c||{};var b=m.util.objId;for(var E in i)if(i.hasOwnProperty(E)){s.call(i,E,i[E],p||E);var w=i[E],$=m.util.type(w);$==="Object"&&!c[b(w)]?(c[b(w)]=!0,o(w,s,null,c)):$==="Array"&&!c[b(w)]&&(c[b(w)]=!0,o(w,s,E,c))}}},plugins:{},highlightAll:function(o,i){m.highlightAllUnder(document,o,i)},highlightAllUnder:function(o,i,s){var p={callback:s,container:o,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};m.hooks.run("before-highlightall",p),p.elements=Array.prototype.slice.apply(p.container.querySelectorAll(p.selector)),m.hooks.run("before-all-elements-highlight",p);for(var c=0,b;b=p.elements[c++];)m.highlightElement(b,i===!0,p.callback)},highlightElement:function(o,i,s){var p=m.util.getLanguage(o),c=m.languages[p];m.util.setLanguage(o,p);var b=o.parentElement;b&&b.nodeName.toLowerCase()==="pre"&&m.util.setLanguage(b,p);var E=o.textContent,w={element:o,language:p,grammar:c,code:E};function $(q){w.highlightedCode=q,m.hooks.run("before-insert",w),w.element.innerHTML=w.highlightedCode,m.hooks.run("after-highlight",w),m.hooks.run("complete",w),s&&s.call(w.element)}if(m.hooks.run("before-sanity-check",w),b=w.element.parentElement,b&&b.nodeName.toLowerCase()==="pre"&&!b.hasAttribute("tabindex")&&b.setAttribute("tabindex","0"),!w.code){m.hooks.run("complete",w),s&&s.call(w.element);return}if(m.hooks.run("before-highlight",w),!w.grammar){$(m.util.encode(w.code));return}if(i&&_.Worker){var S=new Worker(m.filename);S.onmessage=function(q){$(q.data)},S.postMessage(JSON.stringify({language:w.language,code:w.code,immediateClose:!0}))}else $(m.highlight(w.code,w.grammar,w.language))},highlight:function(o,i,s){var p={code:o,grammar:i,language:s};if(m.hooks.run("before-tokenize",p),!p.grammar)throw new Error('The language "'+p.language+'" has no grammar.');return p.tokens=m.tokenize(p.code,p.grammar),m.hooks.run("after-tokenize",p),P.stringify(m.util.encode(p.tokens),p.language)},tokenize:function(o,i){var s=i.rest;if(s){for(var p in s)i[p]=s[p];delete i.rest}var c=new V;return N(c,c.head,o),L(o,c,i,c.head,0),U(c)},hooks:{all:{},add:function(o,i){var s=m.hooks.all;s[o]=s[o]||[],s[o].push(i)},run:function(o,i){var s=m.hooks.all[o];if(!(!s||!s.length))for(var p=0,c;c=s[p++];)c(i)}},Token:P};_.Prism=m;function P(o,i,s,p){this.type=o,this.content=i,this.alias=s,this.length=(p||"").length|0}P.stringify=function o(i,s){if(typeof i=="string")return i;if(Array.isArray(i)){var p="";return i.forEach(function($){p+=o($,s)}),p}var c={type:i.type,content:o(i.content,s),tag:"span",classes:["token",i.type],attributes:{},language:s},b=i.alias;b&&(Array.isArray(b)?Array.prototype.push.apply(c.classes,b):c.classes.push(b)),m.hooks.run("wrap",c);var E="";for(var w in c.attributes)E+=" "+w+'="'+(c.attributes[w]||"").replace(/"/g,"&quot;")+'"';return"<"+c.tag+' class="'+c.classes.join(" ")+'"'+E+">"+c.content+"</"+c.tag+">"};function R(o,i,s,p){o.lastIndex=i;var c=o.exec(s);if(c&&p&&c[1]){var b=c[1].length;c.index+=b,c[0]=c[0].slice(b)}return c}function L(o,i,s,p,c,b){for(var E in s)if(!(!s.hasOwnProperty(E)||!s[E])){var w=s[E];w=Array.isArray(w)?w:[w];for(var $=0;$<w.length;++$){if(b&&b.cause==E+","+$)return;var S=w[$],q=S.inside,ce=!!S.lookbehind,Y=!!S.greedy,ft=S.alias;if(Y&&!S.pattern.global){var te=S.pattern.toString().match(/[imsuy]*$/)[0];S.pattern=RegExp(S.pattern.source,te+"g")}for(var ke=S.pattern||S,j=p.next,D=c;j!==i.tail&&!(b&&D>=b.reach);D+=j.value.length,j=j.next){var H=j.value;if(i.length>o.length)return;if(!(H instanceof P)){var ae=1,C;if(Y){if(C=R(ke,D,o,ce),!C||C.index>=o.length)break;var ie=C.index,Q=C.index+C[0].length,z=D;for(z+=j.value.length;ie>=z;)j=j.next,z+=j.value.length;if(z-=j.value.length,D=z,j.value instanceof P)continue;for(var B=j;B!==i.tail&&(z<Q||typeof B.value=="string");B=B.next)ae++,z+=B.value.length;ae--,H=o.slice(D,z),C.index-=D}else if(C=R(ke,0,H,ce),!C)continue;var ie=C.index,K=C[0],Z=H.slice(0,ie),he=H.slice(ie+K.length),W=D+H.length;b&&W>b.reach&&(b.reach=W);var re=j.prev;Z&&(re=N(i,re,Z),D+=Z.length),ee(i,re,ae);var Ie=new P(E,q?m.tokenize(K,q):K,ft,K);if(j=N(i,re,Ie),he&&N(i,j,he),ae>1){var X={cause:E+","+$,reach:W};L(o,i,s,j.prev,D,X),b&&X.reach>b.reach&&(b.reach=X.reach)}}}}}}function V(){var o={value:null,prev:null,next:null},i={value:null,prev:o,next:null};o.next=i,this.head=o,this.tail=i,this.length=0}function N(o,i,s){var p=i.next,c={value:s,prev:i,next:p};return i.next=c,p.prev=c,o.length++,c}function ee(o,i,s){for(var p=i.next,c=0;c<s&&p!==o.tail;c++)p=p.next;i.next=p,p.prev=i,o.length-=c}function U(o){for(var i=[],s=o.head.next;s!==o.tail;)i.push(s.value),s=s.next;return i}if(!_.document)return _.addEventListener&&(m.disableWorkerMessageHandler||_.addEventListener("message",function(o){var i=JSON.parse(o.data),s=i.language,p=i.code,c=i.immediateClose;_.postMessage(m.highlight(p,m.languages[s],s)),c&&_.close()},!1)),m;var T=m.util.currentScript();T&&(m.filename=T.src,T.hasAttribute("data-manual")&&(m.manual=!0));function A(){m.manual||m.highlightAll()}if(!m.manual){var G=document.readyState;G==="loading"||G==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",A):window.requestAnimationFrame?window.requestAnimationFrame(A):window.setTimeout(A,16)}return m}(I);O.exports&&(O.exports=f),typeof oo<"u"&&(oo.Prism=f),f.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},f.languages.markup.tag.inside["attr-value"].inside.entity=f.languages.markup.entity,f.languages.markup.doctype.inside["internal-subset"].inside=f.languages.markup,f.hooks.add("wrap",function(_){_.type==="entity"&&(_.attributes.title=_.content.replace(/&amp;/,"&"))}),Object.defineProperty(f.languages.markup.tag,"addInlined",{value:function(k,x){var M={};M["language-"+x]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:f.languages[x]},M.cdata=/^<!\[CDATA\[|\]\]>$/i;var m={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:M}};m["language-"+x]={pattern:/[\s\S]+/,inside:f.languages[x]};var P={};P[k]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return k}),"i"),lookbehind:!0,greedy:!0,inside:m},f.languages.insertBefore("markup","cdata",P)}}),Object.defineProperty(f.languages.markup.tag,"addAttribute",{value:function(_,k){f.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+_+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[k,"language-"+k],inside:f.languages[k]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),f.languages.html=f.languages.markup,f.languages.mathml=f.languages.markup,f.languages.svg=f.languages.markup,f.languages.xml=f.languages.extend("markup",{}),f.languages.ssml=f.languages.xml,f.languages.atom=f.languages.xml,f.languages.rss=f.languages.xml,function(_){var k=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;_.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+k.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+k.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+k.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+k.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:k,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},_.languages.css.atrule.inside.rest=_.languages.css;var x=_.languages.markup;x&&(x.tag.addInlined("style","css"),x.tag.addAttribute("style","css"))}(f),f.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},f.languages.javascript=f.languages.extend("clike",{"class-name":[f.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),f.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,f.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:f.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:f.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:f.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:f.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:f.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),f.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:f.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),f.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),f.languages.markup&&(f.languages.markup.tag.addInlined("script","javascript"),f.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),f.languages.js=f.languages.javascript,function(){if(typeof f>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var _="Loading…",k=function(T,A){return"✖ Error "+T+" while fetching file: "+A},x="✖ Error: File does not exist or is empty",M={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},m="data-src-status",P="loading",R="loaded",L="failed",V="pre[data-src]:not(["+m+'="'+R+'"]):not(['+m+'="'+P+'"])';function N(T,A,G){var o=new XMLHttpRequest;o.open("GET",T,!0),o.onreadystatechange=function(){o.readyState==4&&(o.status<400&&o.responseText?A(o.responseText):o.status>=400?G(k(o.status,o.statusText)):G(x))},o.send(null)}function ee(T){var A=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(T||"");if(A){var G=Number(A[1]),o=A[2],i=A[3];return o?i?[G,Number(i)]:[G,void 0]:[G,G]}}f.hooks.add("before-highlightall",function(T){T.selector+=", "+V}),f.hooks.add("before-sanity-check",function(T){var A=T.element;if(A.matches(V)){T.code="",A.setAttribute(m,P);var G=A.appendChild(document.createElement("CODE"));G.textContent=_;var o=A.getAttribute("data-src"),i=T.language;if(i==="none"){var s=(/\.(\w+)$/.exec(o)||[,"none"])[1];i=M[s]||s}f.util.setLanguage(G,i),f.util.setLanguage(A,i);var p=f.plugins.autoloader;p&&p.loadLanguages(i),N(o,function(c){A.setAttribute(m,R);var b=ee(A.getAttribute("data-range"));if(b){var E=c.split(/\r\n?|\n/g),w=b[0],$=b[1]==null?E.length:b[1];w<0&&(w+=E.length),w=Math.max(0,Math.min(w-1,E.length)),$<0&&($+=E.length),$=Math.max(0,Math.min($,E.length)),c=E.slice(w,$).join(`
`),A.hasAttribute("data-start")||A.setAttribute("data-start",String(w+1))}G.textContent=c,f.highlightElement(G)},function(c){A.setAttribute(m,L),G.textContent=c})}}),f.plugins.fileHighlight={highlight:function(A){for(var G=(A||document).querySelectorAll(V),o=0,i;i=G[o++];)f.highlightElement(i)}};var U=!1;f.fileHighlight=function(){U||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),U=!0),f.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(co);const no=Bi;Prism.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/};function ho(O){let I,f,_;return{c(){I=l("pre"),f=l("code"),this.h()},l(k){I=u(k,"PRE",{class:!0});var x=d(I);f=u(x,"CODE",{});var M=d(f);M.forEach(t),x.forEach(t),this.h()},h(){F(I,"class",_=ro(`language-${O[0]}`)+" svelte-1r92eoc")},m(k,x){r(k,I,x),n(I,f),f.innerHTML=O[1]},p(k,[x]){x&2&&(f.innerHTML=k[1]),x&1&&_!==(_=ro(`language-${k[0]}`)+" svelte-1r92eoc")&&F(I,"class",_)},i:qi,o:qi,d(k){k&&t(I)}}}function go(O,I,f){let{code:_}=I,{language:k}=I,x;function M(m,P){var R=no.highlight(P.replace(/^\n/,""),no.languages[m],m);return["if","elif","else","for","foreach","in","do","while","continue","break","return"].forEach(L=>{R=R.replace(new RegExp(`<span class="token keyword">${L}</span>`,"g"),`<span class="token keyword control">${L}</span>`)}),R}return O.$$set=m=>{"code"in m&&f(2,_=m.code),"language"in m&&f(0,k=m.language)},O.$$.update=()=>{O.$$.dirty&5&&f(1,x=M(k,_))},[k,x,_]}class zi extends so{constructor(I){super(),lo(this,I,go,ho,uo,{code:2,language:0})}}const fo=""+new URL("../assets/editor.1acc6147.png",import.meta.url).href,mo=""+new URL("../assets/errors.02c864a0.jpg",import.meta.url).href,vo=""+new URL("../assets/states-settings.aca4c4a7.jpg",import.meta.url).href,yo=""+new URL("../assets/example-balloon.21a17167.jpg",import.meta.url).href,bo=""+new URL("../assets/tutorial.103953db.png",import.meta.url).href;function wo(O){let I,f,_,k,x,M,m,P,R,L,V,N,ee,U,T,A,G,o,i,s,p,c,b,E,w,$,S,q,ce,Y,ft,te,ke,j,D,H,ae,C,Q,z,B,ie,K,Z,he,W,re,Ie,X,Ga,Et,Ae,ja,kt,xe,Ma,It,Fe,Oa,At,$e,Ca,xt,oe,Da,dt,La,Ra,Ft,Pe,Ua,$t,Te,Ha,Pt,Se,za,Tt,Ge,qa,St,je,Ba,Gt,Me,Ya,jt,Oe,Za,Mt,Ce,Na,Ot,De,Wa,Ct,ne,se,Yi,Xa,pt,Ja,Dt,Le,Va,Lt,Re,Qa,Rt,Ue,Ka,Ut,He,ei,Ht,ze,ti,zt,qe,ai,qt,Be,ii,Bt,Ye,ri,Yt,Ze,oi,Zt,J,ni,ct,si,li,ht,ui,fi,Nt,ge,Wt,me,gt,di,pi,Xt,Ne,ci,Jt,le,hi,mt,gi,mi,Vt,We,vi,Qt,Xe,yi,Kt,Je,bi,ea,ve,ye,ue,Zi,wi,vt,_i,ta,Ve,Ei,aa,Qe,ki,ia,fe,Ii,yt,Ai,xi,ra,Ke,Fi,oa,et,$i,na,be,we,de,Ni,Pi,bt,Ti,sa,tt,Si,la,at,Gi,ua,it,ji,fa,rt,Mi,da,_e,Ee,ot,pe,Wi,Oi,wt,Ci,pa,nt,Di,ca,st,Li,ha,lt,Ri,ga;return Q=new zi({props:{language:"gdscript",code:`
func _enter_tree() -> void:
    if Engine.editor_hint:
        main_view = MainView.instance()
        get_editor_interface().get_editor_viewport().add_child(main_view)
        main_view.plugin = self
        make_visible(false)

func _exit_tree() -> void:
    if is_instance_valid(main_view):
        main_view.queue_free()

func has_main_screen() -> bool:
    return true
`}}),Z=new zi({props:{language:"gdscript",code:`
func get_plugin_name() -> String:
    return "Dialogue"

func get_plugin_icon() -> Texture:
    var scale = get_editor_interface().get_editor_scale()
    var base_color = get_editor_interface().get_editor_settings().get_setting("interface/theme/base_color")
    var theme = "light" if base_color.v > 0.5 else "dark"
    return load("res://addons/dialogue_manager/assets/icons/icon_%s_%d.svg" % [theme, scale]) as Texture
`}}),ge=new zi({props:{language:"gdscript",code:`
func handles(object) -> bool:
  return object is DialogueResource

func edit(object) -> void:
  main_view.current_resource = object
`}}),{c(){I=l("header"),f=l("h1"),_=h("Making a dialogue manager for Godot"),k=v(),x=l("aside"),M=h("February 2022"),m=v(),P=l("p"),R=h("If you're making your game with Godot like me and you need some dialogue like me then you should check out "),L=l("a"),V=h("Godot Dialogue Manager"),N=h("."),ee=v(),U=l("figure"),T=l("a"),A=l("img"),o=v(),i=l("figcaption"),s=l("a"),p=h("Godot Dialogue Manager"),c=h(` is my branching dialogue editor that I use to\r
      write dialogue for my game`),b=v(),E=l("p"),w=h(`As part of the first Godot Addons Jam I decided to take all the bits and pieces that I'd learned from making my standalone dialogue\r
    editor and dialogue runtime and make a new all-in-one dialogue manager addon.`),$=v(),S=l("p"),q=h("The first step was to make the basic plugin file structure and get something showing up in the editor."),ce=v(),Y=l("p"),ft=h("Thanks to "),te=l("a"),ke=h("Emilio's video about making your first editor plugin"),j=h(" I knew how to do that."),D=v(),H=l("p"),ae=h("In the main plugin file you can just instance a copy of your main screen and add it to the editor interface like this."),C=v(),xa(Q.$$.fragment),z=v(),B=l("p"),ie=h("Then you can specify a title and an icon for your editor tab."),K=v(),xa(Z.$$.fragment),he=v(),W=l("p"),re=h("All that stuff about scale and theme there is to make sure the icon renders at the right size compared to the other editor icons."),Ie=v(),X=l("p"),Ga=h("When I originally opened the plugin up on my Mac to test it I was greeted with a tiny icon."),Et=v(),Ae=l("p"),ja=h("You can overcome this by having different icons for different editor scales."),kt=v(),xe=l("p"),Ma=h("I do this by just having identical clones of the same SVG file and just setting the import scale to what I want."),It=v(),Fe=l("p"),Oa=h("And you'll need another copy of each so you can swap between dark and light themes."),At=v(),$e=l("p"),Ca=h("Building out the interface was pretty much the same process as building it the first time around - It's all just VBoxes and HBoxes."),xt=v(),oe=l("p"),Da=h("One thing that was different, though, is that I had to add the "),dt=l("code"),La=h("tool"),Ra=h(" keyword to any script that's used in the plugin."),Ft=v(),Pe=l("p"),Ua=h("I did read it in the docs and then totally forgot about it."),$t=v(),Te=l("p"),Ha=h(`Then, after getting some very confusing behaviour and errors on things that shouldn't have errors I worked out that that's what I was\r
    missing.`),Pt=v(),Se=l("p"),za=h("And then I proceeded to fall for that trap a further 8 times."),Tt=v(),Ge=l("p"),qa=h("Once I had the general UI I moved onto the parser."),St=v(),je=l("p"),Ba=h(`The parser I wrote for the standalone editor would have probably been fine to copy over but I wanted to take the opportunity to tidy it\r
    up a bit.`),Gt=v(),Me=l("p"),Ya=h("It may not be best way to write a parser but it works and its mostly easy to follow."),jt=v(),Oe=l("p"),Za=h("It iterates over each line and works out what type it is."),Mt=v(),Ce=l("p"),Na=h("Then, depending on that type it looks up whatever it needs to look up in order to satisfy any properties that type has."),Ot=v(),De=l("p"),Wa=h("Then it does some basic error checking of whatever properties it has worked out."),Ct=v(),ne=l("figure"),se=l("img"),Xa=v(),pt=l("figcaption"),Ja=h("The dialogue editor will do periodic error checking on your syntax."),Dt=v(),Le=l("p"),Va=h("If there are any errors then the UI shows them in a list."),Lt=v(),Re=l("p"),Qa=h(`I couldn't find a proper way to highlight error lines so I'm repurposing the bookmarking feature of TextEdits and colouring them red to\r
    show error lines.`),Rt=v(),Ue=l("p"),Ka=h("The results of each parse get stored in the resource file automatically."),Ut=v(),He=l("p"),ei=h("If you try to run some dialogue with a resource containing errors you'll get a runtime error telling you as much and which file it is."),Ht=v(),ze=l("p"),ti=h("Next up I wanted to set up the icons for my toolbar."),zt=v(),qe=l("p"),ai=h(`I wasn't about to make my scaled and themed icon problem a million times worse by making my own toolbar icons so I opted to use the\r
    icons provided by Godot itself.`),qt=v(),Be=l("p"),ii=h(`To work out what icons I could use I found another addon called the Godot Editor Theme Explorer that lets you inspect the current editor\r
    theme and pull out colours, fonts, styles, and most importantly, icons.`),Bt=v(),Ye=l("p"),ri=h(`Using built-in icons also means you don't have to deal with scale and theme colouring and the plugin blends in better with the rest of\r
    the editor.`),Yt=v(),Ze=l("p"),oi=h(`And, speaking of blending into the editor, another thing I wanted to add is for when you double click a dialogue resource in the file\r
    system panel it would open up in the dialogue editor.`),Zt=v(),J=l("p"),ni=h("It turned out being as simple as implementing two functions: "),ct=l("code"),si=h("handles"),li=h(` and\r
    `),ht=l("code"),ui=h("edit"),fi=h("."),Nt=v(),xa(ge.$$.fragment),Wt=v(),me=l("p"),gt=l("code"),di=h("handles"),pi=h(" is given the current object being opened and you return true if your plugin can handle that file."),Xt=v(),Ne=l("p"),ci=h("Here I just check to see if it's a dialogue resource."),Jt=v(),le=l("p"),hi=h("Then in "),mt=l("code"),gi=h("edit"),mi=h(" you get the same object so your plugin can do something with it."),Vt=v(),We=l("p"),vi=h("I just set it to be the current resource being edited which opens it up in the main dialogue edit window."),Qt=v(),Xe=l("p"),yi=h("One of the things the dialogue manager needs at run time is a list of global game states."),Kt=v(),Je=l("p"),bi=h("It uses these whenever you reference a variable or method."),ea=v(),ve=l("aside"),ye=l("figure"),ue=l("img"),wi=v(),vt=l("figcaption"),_i=h("You can configure your runtime states in the editor."),ta=v(),Ve=l("p"),Ei=h("You can do it programmatically but I've also added an interface in settings to make it a bit easier."),aa=v(),Qe=l("p"),ki=h(`It lists out the autoloads you have on your project and you can enable which ones contain game state and methods that you want your\r
    dialogue to have access to.`),ia=v(),fe=l("p"),Ii=h("I couldn't find a proper way to get the list of autoloads so this is just loading the "),yt=l("code"),Ai=h("project.godot"),xi=h(` config file and reading\r
    from that.`),ra=v(),Ke=l("p"),Fi=h("Once the editor was done I moved onto the runtime."),oa=v(),et=l("p"),$i=h(`Most of the code there was similar to my old runtime but with a few quality of life modifications that came with the new parser and\r
    integrated editor.`),na=v(),be=l("aside"),we=l("figure"),de=l("img"),Pi=v(),bt=l("figcaption"),Ti=h("Use the example balloon to test out dialogue."),sa=v(),tt=l("p"),Si=h("I added an example dialogue balloon that can be used as a starting point for testing out dialogue."),la=v(),at=l("p"),Gi=h("You can look at the code to see how it works as a basis for your own balloon."),ua=v(),it=l("p"),ji=h("One other quick thing I'll mention is that the plugin will try and check for updates to itself when you first open it."),fa=v(),rt=l("p"),Mi=h("It does an HTTP request to the plugin GitHub page and checks the version available there."),da=v(),_e=l("aside"),Ee=l("figure"),ot=l("a"),pe=l("img"),Oi=v(),wt=l("figcaption"),Ci=h("I made a tutorial video to help get you started."),pa=v(),nt=l("p"),Di=h(`If there is a new version you'll see a button pop up in the top right that, when you click it, it will open a browser to GitHub so you\r
    can download the new version.`),ca=v(),st=l("p"),Li=h("That's probably all I have to say about the plugin for now."),ha=v(),lt=l("p"),Ri=h("I'm already using it for all of my dialogue so I'll probably be adding features as I need them."),this.h()},l(e){I=u(e,"HEADER",{});var a=d(I);f=u(a,"H1",{});var Xi=d(f);_=g(Xi,"Making a dialogue manager for Godot"),Xi.forEach(t),k=y(a),x=u(a,"ASIDE",{});var Ji=d(x);M=g(Ji,"February 2022"),Ji.forEach(t),a.forEach(t),m=y(e),P=u(e,"P",{});var ma=d(P);R=g(ma,"If you're making your game with Godot like me and you need some dialogue like me then you should check out "),L=u(ma,"A",{href:!0});var Vi=d(L);V=g(Vi,"Godot Dialogue Manager"),Vi.forEach(t),N=g(ma,"."),ma.forEach(t),ee=y(e),U=u(e,"FIGURE",{});var va=d(U);T=u(va,"A",{href:!0});var Qi=d(T);A=u(Qi,"IMG",{src:!0,alt:!0,width:!0,height:!0}),Qi.forEach(t),o=y(va),i=u(va,"FIGCAPTION",{});var Ui=d(i);s=u(Ui,"A",{href:!0});var Ki=d(s);p=g(Ki,"Godot Dialogue Manager"),Ki.forEach(t),c=g(Ui,` is my branching dialogue editor that I use to\r
      write dialogue for my game`),Ui.forEach(t),va.forEach(t),b=y(e),E=u(e,"P",{});var er=d(E);w=g(er,`As part of the first Godot Addons Jam I decided to take all the bits and pieces that I'd learned from making my standalone dialogue\r
    editor and dialogue runtime and make a new all-in-one dialogue manager addon.`),er.forEach(t),$=y(e),S=u(e,"P",{});var tr=d(S);q=g(tr,"The first step was to make the basic plugin file structure and get something showing up in the editor."),tr.forEach(t),ce=y(e),Y=u(e,"P",{});var ya=d(Y);ft=g(ya,"Thanks to "),te=u(ya,"A",{href:!0});var ar=d(te);ke=g(ar,"Emilio's video about making your first editor plugin"),ar.forEach(t),j=g(ya," I knew how to do that."),ya.forEach(t),D=y(e),H=u(e,"P",{});var ir=d(H);ae=g(ir,"In the main plugin file you can just instance a copy of your main screen and add it to the editor interface like this."),ir.forEach(t),C=y(e),Fa(Q.$$.fragment,e),z=y(e),B=u(e,"P",{});var rr=d(B);ie=g(rr,"Then you can specify a title and an icon for your editor tab."),rr.forEach(t),K=y(e),Fa(Z.$$.fragment,e),he=y(e),W=u(e,"P",{});var or=d(W);re=g(or,"All that stuff about scale and theme there is to make sure the icon renders at the right size compared to the other editor icons."),or.forEach(t),Ie=y(e),X=u(e,"P",{});var nr=d(X);Ga=g(nr,"When I originally opened the plugin up on my Mac to test it I was greeted with a tiny icon."),nr.forEach(t),Et=y(e),Ae=u(e,"P",{});var sr=d(Ae);ja=g(sr,"You can overcome this by having different icons for different editor scales."),sr.forEach(t),kt=y(e),xe=u(e,"P",{});var lr=d(xe);Ma=g(lr,"I do this by just having identical clones of the same SVG file and just setting the import scale to what I want."),lr.forEach(t),It=y(e),Fe=u(e,"P",{});var ur=d(Fe);Oa=g(ur,"And you'll need another copy of each so you can swap between dark and light themes."),ur.forEach(t),At=y(e),$e=u(e,"P",{});var fr=d($e);Ca=g(fr,"Building out the interface was pretty much the same process as building it the first time around - It's all just VBoxes and HBoxes."),fr.forEach(t),xt=y(e),oe=u(e,"P",{});var ba=d(oe);Da=g(ba,"One thing that was different, though, is that I had to add the "),dt=u(ba,"CODE",{});var dr=d(dt);La=g(dr,"tool"),dr.forEach(t),Ra=g(ba," keyword to any script that's used in the plugin."),ba.forEach(t),Ft=y(e),Pe=u(e,"P",{});var pr=d(Pe);Ua=g(pr,"I did read it in the docs and then totally forgot about it."),pr.forEach(t),$t=y(e),Te=u(e,"P",{});var cr=d(Te);Ha=g(cr,`Then, after getting some very confusing behaviour and errors on things that shouldn't have errors I worked out that that's what I was\r
    missing.`),cr.forEach(t),Pt=y(e),Se=u(e,"P",{});var hr=d(Se);za=g(hr,"And then I proceeded to fall for that trap a further 8 times."),hr.forEach(t),Tt=y(e),Ge=u(e,"P",{});var gr=d(Ge);qa=g(gr,"Once I had the general UI I moved onto the parser."),gr.forEach(t),St=y(e),je=u(e,"P",{});var mr=d(je);Ba=g(mr,`The parser I wrote for the standalone editor would have probably been fine to copy over but I wanted to take the opportunity to tidy it\r
    up a bit.`),mr.forEach(t),Gt=y(e),Me=u(e,"P",{});var vr=d(Me);Ya=g(vr,"It may not be best way to write a parser but it works and its mostly easy to follow."),vr.forEach(t),jt=y(e),Oe=u(e,"P",{});var yr=d(Oe);Za=g(yr,"It iterates over each line and works out what type it is."),yr.forEach(t),Mt=y(e),Ce=u(e,"P",{});var br=d(Ce);Na=g(br,"Then, depending on that type it looks up whatever it needs to look up in order to satisfy any properties that type has."),br.forEach(t),Ot=y(e),De=u(e,"P",{});var wr=d(De);Wa=g(wr,"Then it does some basic error checking of whatever properties it has worked out."),wr.forEach(t),Ct=y(e),ne=u(e,"FIGURE",{});var wa=d(ne);se=u(wa,"IMG",{src:!0,alt:!0,width:!0,height:!0}),Xa=y(wa),pt=u(wa,"FIGCAPTION",{});var _r=d(pt);Ja=g(_r,"The dialogue editor will do periodic error checking on your syntax."),_r.forEach(t),wa.forEach(t),Dt=y(e),Le=u(e,"P",{});var Er=d(Le);Va=g(Er,"If there are any errors then the UI shows them in a list."),Er.forEach(t),Lt=y(e),Re=u(e,"P",{});var kr=d(Re);Qa=g(kr,`I couldn't find a proper way to highlight error lines so I'm repurposing the bookmarking feature of TextEdits and colouring them red to\r
    show error lines.`),kr.forEach(t),Rt=y(e),Ue=u(e,"P",{});var Ir=d(Ue);Ka=g(Ir,"The results of each parse get stored in the resource file automatically."),Ir.forEach(t),Ut=y(e),He=u(e,"P",{});var Ar=d(He);ei=g(Ar,"If you try to run some dialogue with a resource containing errors you'll get a runtime error telling you as much and which file it is."),Ar.forEach(t),Ht=y(e),ze=u(e,"P",{});var xr=d(ze);ti=g(xr,"Next up I wanted to set up the icons for my toolbar."),xr.forEach(t),zt=y(e),qe=u(e,"P",{});var Fr=d(qe);ai=g(Fr,`I wasn't about to make my scaled and themed icon problem a million times worse by making my own toolbar icons so I opted to use the\r
    icons provided by Godot itself.`),Fr.forEach(t),qt=y(e),Be=u(e,"P",{});var $r=d(Be);ii=g($r,`To work out what icons I could use I found another addon called the Godot Editor Theme Explorer that lets you inspect the current editor\r
    theme and pull out colours, fonts, styles, and most importantly, icons.`),$r.forEach(t),Bt=y(e),Ye=u(e,"P",{});var Pr=d(Ye);ri=g(Pr,`Using built-in icons also means you don't have to deal with scale and theme colouring and the plugin blends in better with the rest of\r
    the editor.`),Pr.forEach(t),Yt=y(e),Ze=u(e,"P",{});var Tr=d(Ze);oi=g(Tr,`And, speaking of blending into the editor, another thing I wanted to add is for when you double click a dialogue resource in the file\r
    system panel it would open up in the dialogue editor.`),Tr.forEach(t),Zt=y(e),J=u(e,"P",{});var ut=d(J);ni=g(ut,"It turned out being as simple as implementing two functions: "),ct=u(ut,"CODE",{});var Sr=d(ct);si=g(Sr,"handles"),Sr.forEach(t),li=g(ut,` and\r
    `),ht=u(ut,"CODE",{});var Gr=d(ht);ui=g(Gr,"edit"),Gr.forEach(t),fi=g(ut,"."),ut.forEach(t),Nt=y(e),Fa(ge.$$.fragment,e),Wt=y(e),me=u(e,"P",{});var Hi=d(me);gt=u(Hi,"CODE",{});var jr=d(gt);di=g(jr,"handles"),jr.forEach(t),pi=g(Hi," is given the current object being opened and you return true if your plugin can handle that file."),Hi.forEach(t),Xt=y(e),Ne=u(e,"P",{});var Mr=d(Ne);ci=g(Mr,"Here I just check to see if it's a dialogue resource."),Mr.forEach(t),Jt=y(e),le=u(e,"P",{});var _a=d(le);hi=g(_a,"Then in "),mt=u(_a,"CODE",{});var Or=d(mt);gi=g(Or,"edit"),Or.forEach(t),mi=g(_a," you get the same object so your plugin can do something with it."),_a.forEach(t),Vt=y(e),We=u(e,"P",{});var Cr=d(We);vi=g(Cr,"I just set it to be the current resource being edited which opens it up in the main dialogue edit window."),Cr.forEach(t),Qt=y(e),Xe=u(e,"P",{});var Dr=d(Xe);yi=g(Dr,"One of the things the dialogue manager needs at run time is a list of global game states."),Dr.forEach(t),Kt=y(e),Je=u(e,"P",{});var Lr=d(Je);bi=g(Lr,"It uses these whenever you reference a variable or method."),Lr.forEach(t),ea=y(e),ve=u(e,"ASIDE",{class:!0});var Rr=d(ve);ye=u(Rr,"FIGURE",{});var Ea=d(ye);ue=u(Ea,"IMG",{src:!0,alt:!0,width:!0,height:!0}),wi=y(Ea),vt=u(Ea,"FIGCAPTION",{});var Ur=d(vt);_i=g(Ur,"You can configure your runtime states in the editor."),Ur.forEach(t),Ea.forEach(t),Rr.forEach(t),ta=y(e),Ve=u(e,"P",{});var Hr=d(Ve);Ei=g(Hr,"You can do it programmatically but I've also added an interface in settings to make it a bit easier."),Hr.forEach(t),aa=y(e),Qe=u(e,"P",{});var zr=d(Qe);ki=g(zr,`It lists out the autoloads you have on your project and you can enable which ones contain game state and methods that you want your\r
    dialogue to have access to.`),zr.forEach(t),ia=y(e),fe=u(e,"P",{});var ka=d(fe);Ii=g(ka,"I couldn't find a proper way to get the list of autoloads so this is just loading the "),yt=u(ka,"CODE",{});var qr=d(yt);Ai=g(qr,"project.godot"),qr.forEach(t),xi=g(ka,` config file and reading\r
    from that.`),ka.forEach(t),ra=y(e),Ke=u(e,"P",{});var Br=d(Ke);Fi=g(Br,"Once the editor was done I moved onto the runtime."),Br.forEach(t),oa=y(e),et=u(e,"P",{});var Yr=d(et);$i=g(Yr,`Most of the code there was similar to my old runtime but with a few quality of life modifications that came with the new parser and\r
    integrated editor.`),Yr.forEach(t),na=y(e),be=u(e,"ASIDE",{class:!0});var Zr=d(be);we=u(Zr,"FIGURE",{});var Ia=d(we);de=u(Ia,"IMG",{src:!0,alt:!0,width:!0,height:!0}),Pi=y(Ia),bt=u(Ia,"FIGCAPTION",{});var Nr=d(bt);Ti=g(Nr,"Use the example balloon to test out dialogue."),Nr.forEach(t),Ia.forEach(t),Zr.forEach(t),sa=y(e),tt=u(e,"P",{});var Wr=d(tt);Si=g(Wr,"I added an example dialogue balloon that can be used as a starting point for testing out dialogue."),Wr.forEach(t),la=y(e),at=u(e,"P",{});var Xr=d(at);Gi=g(Xr,"You can look at the code to see how it works as a basis for your own balloon."),Xr.forEach(t),ua=y(e),it=u(e,"P",{});var Jr=d(it);ji=g(Jr,"One other quick thing I'll mention is that the plugin will try and check for updates to itself when you first open it."),Jr.forEach(t),fa=y(e),rt=u(e,"P",{});var Vr=d(rt);Mi=g(Vr,"It does an HTTP request to the plugin GitHub page and checks the version available there."),Vr.forEach(t),da=y(e),_e=u(e,"ASIDE",{class:!0});var Qr=d(_e);Ee=u(Qr,"FIGURE",{});var Aa=d(Ee);ot=u(Aa,"A",{href:!0});var Kr=d(ot);pe=u(Kr,"IMG",{src:!0,alt:!0,width:!0,height:!0}),Kr.forEach(t),Oi=y(Aa),wt=u(Aa,"FIGCAPTION",{});var eo=d(wt);Ci=g(eo,"I made a tutorial video to help get you started."),eo.forEach(t),Aa.forEach(t),Qr.forEach(t),pa=y(e),nt=u(e,"P",{});var to=d(nt);Di=g(to,`If there is a new version you'll see a button pop up in the top right that, when you click it, it will open a browser to GitHub so you\r
    can download the new version.`),to.forEach(t),ca=y(e),st=u(e,"P",{});var ao=d(st);Li=g(ao,"That's probably all I have to say about the plugin for now."),ao.forEach(t),ha=y(e),lt=u(e,"P",{});var io=d(lt);Ri=g(io,"I'm already using it for all of my dialogue so I'll probably be adding features as I need them."),io.forEach(t),this.h()},h(){F(L,"href","https://github.com/nathanhoad/godot_dialogue_manager"),_t(A.src,G=fo)||F(A,"src",G),F(A,"alt","Screenshot of Dialogue Manager in Godot"),F(A,"width","1920"),F(A,"height","1080"),F(T,"href","https://github.com/nathanhoad/godot_dialogue_manager"),F(s,"href","https://github.com/nathanhoad/godot_dialogue_manager"),F(te,"href","https://youtu.be/qy4nBHMXIPk"),_t(se.src,Yi=mo)||F(se,"src",Yi),F(se,"alt","Screenshot of error checking"),F(se,"width","1282"),F(se,"height","195"),_t(ue.src,Zi=vo)||F(ue,"src",Zi),F(ue,"alt","Screenshot of runtime state configuration"),F(ue,"width","600"),F(ue,"height","523"),F(ve,"class","right"),_t(de.src,Ni=yo)||F(de,"src",Ni),F(de,"alt","Screenshot of example balloon"),F(de,"width","520"),F(de,"height","208"),F(be,"class","left"),_t(pe.src,Wi=bo)||F(pe,"src",Wi),F(pe,"alt","YouTube video thumbnail"),F(pe,"width","1920"),F(pe,"height","1080"),F(ot,"href","https://youtu.be/08HHSQGXfgM"),F(_e,"class","right")},m(e,a){r(e,I,a),n(I,f),n(f,_),n(I,k),n(I,x),n(x,M),r(e,m,a),r(e,P,a),n(P,R),n(P,L),n(L,V),n(P,N),r(e,ee,a),r(e,U,a),n(U,T),n(T,A),n(U,o),n(U,i),n(i,s),n(s,p),n(i,c),r(e,b,a),r(e,E,a),n(E,w),r(e,$,a),r(e,S,a),n(S,q),r(e,ce,a),r(e,Y,a),n(Y,ft),n(Y,te),n(te,ke),n(Y,j),r(e,D,a),r(e,H,a),n(H,ae),r(e,C,a),$a(Q,e,a),r(e,z,a),r(e,B,a),n(B,ie),r(e,K,a),$a(Z,e,a),r(e,he,a),r(e,W,a),n(W,re),r(e,Ie,a),r(e,X,a),n(X,Ga),r(e,Et,a),r(e,Ae,a),n(Ae,ja),r(e,kt,a),r(e,xe,a),n(xe,Ma),r(e,It,a),r(e,Fe,a),n(Fe,Oa),r(e,At,a),r(e,$e,a),n($e,Ca),r(e,xt,a),r(e,oe,a),n(oe,Da),n(oe,dt),n(dt,La),n(oe,Ra),r(e,Ft,a),r(e,Pe,a),n(Pe,Ua),r(e,$t,a),r(e,Te,a),n(Te,Ha),r(e,Pt,a),r(e,Se,a),n(Se,za),r(e,Tt,a),r(e,Ge,a),n(Ge,qa),r(e,St,a),r(e,je,a),n(je,Ba),r(e,Gt,a),r(e,Me,a),n(Me,Ya),r(e,jt,a),r(e,Oe,a),n(Oe,Za),r(e,Mt,a),r(e,Ce,a),n(Ce,Na),r(e,Ot,a),r(e,De,a),n(De,Wa),r(e,Ct,a),r(e,ne,a),n(ne,se),n(ne,Xa),n(ne,pt),n(pt,Ja),r(e,Dt,a),r(e,Le,a),n(Le,Va),r(e,Lt,a),r(e,Re,a),n(Re,Qa),r(e,Rt,a),r(e,Ue,a),n(Ue,Ka),r(e,Ut,a),r(e,He,a),n(He,ei),r(e,Ht,a),r(e,ze,a),n(ze,ti),r(e,zt,a),r(e,qe,a),n(qe,ai),r(e,qt,a),r(e,Be,a),n(Be,ii),r(e,Bt,a),r(e,Ye,a),n(Ye,ri),r(e,Yt,a),r(e,Ze,a),n(Ze,oi),r(e,Zt,a),r(e,J,a),n(J,ni),n(J,ct),n(ct,si),n(J,li),n(J,ht),n(ht,ui),n(J,fi),r(e,Nt,a),$a(ge,e,a),r(e,Wt,a),r(e,me,a),n(me,gt),n(gt,di),n(me,pi),r(e,Xt,a),r(e,Ne,a),n(Ne,ci),r(e,Jt,a),r(e,le,a),n(le,hi),n(le,mt),n(mt,gi),n(le,mi),r(e,Vt,a),r(e,We,a),n(We,vi),r(e,Qt,a),r(e,Xe,a),n(Xe,yi),r(e,Kt,a),r(e,Je,a),n(Je,bi),r(e,ea,a),r(e,ve,a),n(ve,ye),n(ye,ue),n(ye,wi),n(ye,vt),n(vt,_i),r(e,ta,a),r(e,Ve,a),n(Ve,Ei),r(e,aa,a),r(e,Qe,a),n(Qe,ki),r(e,ia,a),r(e,fe,a),n(fe,Ii),n(fe,yt),n(yt,Ai),n(fe,xi),r(e,ra,a),r(e,Ke,a),n(Ke,Fi),r(e,oa,a),r(e,et,a),n(et,$i),r(e,na,a),r(e,be,a),n(be,we),n(we,de),n(we,Pi),n(we,bt),n(bt,Ti),r(e,sa,a),r(e,tt,a),n(tt,Si),r(e,la,a),r(e,at,a),n(at,Gi),r(e,ua,a),r(e,it,a),n(it,ji),r(e,fa,a),r(e,rt,a),n(rt,Mi),r(e,da,a),r(e,_e,a),n(_e,Ee),n(Ee,ot),n(ot,pe),n(Ee,Oi),n(Ee,wt),n(wt,Ci),r(e,pa,a),r(e,nt,a),n(nt,Di),r(e,ca,a),r(e,st,a),n(st,Li),r(e,ha,a),r(e,lt,a),n(lt,Ri),ga=!0},p:qi,i(e){ga||(Pa(Q.$$.fragment,e),Pa(Z.$$.fragment,e),Pa(ge.$$.fragment,e),ga=!0)},o(e){Ta(Q.$$.fragment,e),Ta(Z.$$.fragment,e),Ta(ge.$$.fragment,e),ga=!1},d(e){e&&t(I),e&&t(m),e&&t(P),e&&t(ee),e&&t(U),e&&t(b),e&&t(E),e&&t($),e&&t(S),e&&t(ce),e&&t(Y),e&&t(D),e&&t(H),e&&t(C),Sa(Q,e),e&&t(z),e&&t(B),e&&t(K),Sa(Z,e),e&&t(he),e&&t(W),e&&t(Ie),e&&t(X),e&&t(Et),e&&t(Ae),e&&t(kt),e&&t(xe),e&&t(It),e&&t(Fe),e&&t(At),e&&t($e),e&&t(xt),e&&t(oe),e&&t(Ft),e&&t(Pe),e&&t($t),e&&t(Te),e&&t(Pt),e&&t(Se),e&&t(Tt),e&&t(Ge),e&&t(St),e&&t(je),e&&t(Gt),e&&t(Me),e&&t(jt),e&&t(Oe),e&&t(Mt),e&&t(Ce),e&&t(Ot),e&&t(De),e&&t(Ct),e&&t(ne),e&&t(Dt),e&&t(Le),e&&t(Lt),e&&t(Re),e&&t(Rt),e&&t(Ue),e&&t(Ut),e&&t(He),e&&t(Ht),e&&t(ze),e&&t(zt),e&&t(qe),e&&t(qt),e&&t(Be),e&&t(Bt),e&&t(Ye),e&&t(Yt),e&&t(Ze),e&&t(Zt),e&&t(J),e&&t(Nt),Sa(ge,e),e&&t(Wt),e&&t(me),e&&t(Xt),e&&t(Ne),e&&t(Jt),e&&t(le),e&&t(Vt),e&&t(We),e&&t(Qt),e&&t(Xe),e&&t(Kt),e&&t(Je),e&&t(ea),e&&t(ve),e&&t(ta),e&&t(Ve),e&&t(aa),e&&t(Qe),e&&t(ia),e&&t(fe),e&&t(ra),e&&t(Ke),e&&t(oa),e&&t(et),e&&t(na),e&&t(be),e&&t(sa),e&&t(tt),e&&t(la),e&&t(at),e&&t(ua),e&&t(it),e&&t(fa),e&&t(rt),e&&t(da),e&&t(_e),e&&t(pa),e&&t(nt),e&&t(ca),e&&t(st),e&&t(ha),e&&t(lt)}}}function _o(O){let I,f;return I=new po({props:{path:"/gdm",title:"Making a dialogue manager for Godot",description:"If you're making a Godot game and need some non-linear dialogue then have a look at Dialogue Manager.",imageUrl:fo,$$slots:{default:[wo]},$$scope:{ctx:O}}}),{c(){xa(I.$$.fragment)},l(_){Fa(I.$$.fragment,_)},m(_,k){$a(I,_,k),f=!0},p(_,[k]){const x={};k&1&&(x.$$scope={dirty:k,ctx:_}),I.$set(x)},i(_){f||(Pa(I.$$.fragment,_),f=!0)},o(_){Ta(I.$$.fragment,_),f=!1},d(_){Sa(I,_)}}}class Io extends so{constructor(I){super(),lo(this,I,null,_o,uo,{})}}export{Io as default};
